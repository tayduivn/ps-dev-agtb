<soda>
	<!-- Create Opportunity_Verify that data entered in custom fields can be saved for 
		creating an opportunity. -->
	<puts text="Test: Opportunity_2387.xml started." />
	<csv file="{@global.scriptsdir}/csvs/opportunity/Opportunity_2387.csv" var="Opportunity_2387">
		<script file="{@global.scriptsdir}/modules/lib/Account_Create_Lib.xml" />
		<script file="{@global.scriptsdir}/modules/lib/Campaign_Create_Lib.xml" />

		<link id="moduleTab_Opportunities" />

		<link text="Create Opportunity" />
		<textfield id="name" set="{@Opportunity_2387.name} {@user.name} {@stamp}" />
		<textfield id="amount" set="{@Opportunity_2387.amount}" />
		<textfield id="probability" set="{@Opportunity_2387.probability}" />
		<textfield id="date_closed" set="{@Opportunity_2387.date_closed}" />
		<textfield id="next_step" set="{@Opportunity_2387.next_step}" />
		<textfield id="description" set="{@Opportunity_2387.description}" />
		<select id="opportunity_type" set="{@Opportunity_2387.opportunity_type}" />
		<select id="lead_source" set="{@Opportunity_2387.lead_source}" />
		<select name="currency_id" set="{@Opportunity_2387.currency_id}" />
		<select id="sales_stage" set="{@Opportunity_2387.sales_stage}" />

		<!--Account Select -->
		<button id="btn_account_name" />
		<browser assert="Account Search" />
		<textfield id="name_advanced" set="{@pre_account_name}" />
		<button value="Search" />
		<link text="{@pre_account_name}" />

		<!--teams select -->
		<button name="teamSelect" />
		<browser assert="Team Search" />
		<textfield name="name" set="{@Opportunity_2387.team_name}" />
		<button value="Search" />
		<link text="{@Opportunity_2387.team_name}" />

		<!--Select Campaign record -->
		<button id="btn_campaign_name" />
		<browser assert="Campaign Search" />
		<textfield id="name_advanced" set="{@Campaign_Name}" />
		<button value="Search" />
		<!--table class = "list view" -->
		<link text="{@Campaign_Name}" />
		<!--/table -->
		<button value="Save" />
		<form id="form">
			<button id="edit_button" />
		</form>
		<form id="EditView">
			<textfield id="name" set="{@Opportunity_2387.name_edit} {@user.name} {@stamp}" />
			<textfield id="amount" set="{@Opportunity_2387.amount_edit}" />
			<textfield id="probability" set="{@Opportunity_2387.probability_edit}" />
			<textfield id="date_closed" set="{@Opportunity_2387.date_closed_edit}" />
			<textfield id="next_step" set="{@Opportunity_2387.next_step_edit}" />
			<textfield id="description" set="{@Opportunity_2387.description_edit}" />
			<select id="opportunity_type" set="{@Opportunity_2387.opportunity_type_edit}" />
			<select id="lead_source" set="{@Opportunity_2387.lead_source_edit}" />
			<select name="currency_id" set="{@Opportunity_2387.currency_id_edit}" />
			<select id="sales_stage" set="{@Opportunity_2387.sales_stage_edit}" />
			<button value="Save" />
		</form>
		<wait />
		<browser assert="{@Opportunity_2387.name} {@user.name} {@stamp}" />
		<browser assert="{@Opportunity_2387.probability_edit}" />
		<browser assert="{@Opportunity_2387.date_closed_edit}" />
		<browser assert="{@Opportunity_2387.next_step_edit}" />
		<browser assert="{@Opportunity_2387.description_edit}" />
		<browser assert="{@Opportunity_2387.opportunity_type_edit}" />
		<browser assert="{@Opportunity_2387.lead_source_edit}" />
		<browser assert="{@Opportunity_2387.sales_stage_edit}" />

		<link text="{@pre_account_name}" click="false" />
		<browser assert="{@Opportunity_2387.assigned_user_name}" />
		<browser assert="{@Opportunity_2387.team_name}" />
		<link text="{@Campaign_Name}" click="false" />

	</csv>
	<!--Run Delete XML -->
	<script file="{@global.scriptsdir}/modules/lib/Opp_Delete_Lib.xml" />
	<script file="{@global.scriptsdir}/modules/lib/Account_Delete_Lib.xml" />
	<script file="{@global.scriptsdir}/modules/lib/Campaign_Delete_Lib.xml" />
	<puts text="---Opportunity_2387.xml---Finished!" />
</soda>
